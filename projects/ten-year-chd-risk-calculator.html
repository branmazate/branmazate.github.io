<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SL88Y8XX64"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-SL88Y8XX64');
    </script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Project title</title>
    <meta
        name="description"
        content="Project description" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="all, follow" />
    <meta name="googlebot" content="index,follow,snippet,archive" />
    <title>Project's name</title>
    <link rel="stylesheet" href="../css/projects-style.css" />
    <link
    flex
    href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
    rel="stylesheet"
    />
</head>
<body>
    <!--[if lt IE 7]>
    <p class="browsehappy">
    You are using an <strong>outdated</strong> browser. Please
    <a href="#">upgrade your browser</a> to improve your experience.
    </p>
    <![endif]-->
    <div id="container">
<!--Sidebar-->
<nav class="sidebar unlocked close">
    <div class="logo-items flex">
        <span class="menu-icon"><i><svg
        class="w-6 h-6 text-gray-800 dark:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24">
            <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-width="2"
            d="M5 7h14M5 12h14M5 17h14"/></svg></i></span>
        <span class="logo-name">Brandon Mazate</span>
        <i class="bx bx-lock-open-alt" id="lock-icon" title="Unlock Sidebar"></i>
        <i class="bx bx-x" id="sidebar-close"></i>
    </div>
    <!--navigation-->
    <div id="description">
        <p>
        Biological data science |
        <br />
        Research and analysis |
        <br />
        Guatemala, gt.
        </p>
    </div>
    <div id="menu-container">
        <div class="menu-items">
        <ul id="menu-list" class="menu-item">
            <div class="menu-title flex">
            <span class="title">Explore</span>
            <span class="line"></span>
            </div>
            <li class="item">
            <a class="link flex" href="../index.html/#about-me">
                <i class="bx bx-hash"></i>
                <span class="link-text">About me</span></a></li>
            <li class="item">
            <a class="link flex" href="../index.html/#portfolio">
                <i class="bx bx-book-reader"></i>
                <span class="link-text">Portfolio</span></a></li>
            <li>
            <a href="../index.html/#contact" class="link flex">
            <i class="bx bx-send"></i>
            <span class="link-text">Get in touch</span></a></li>
        </ul>
        <!--social panel-->
        <ul id="social-panel" class="menu-item">
            <div class="menu-title flex">
            <span class="title">Follow me</span>
            <span class="line"></span>
            </div>
            <div class="hide-icon"><i class="bx bx-like"></i></div>
            <div class="contact-icons flex">
            <div class="icon-box">
                <a href="https://twitter.com/Brandatascience" target="_blank" class="social-link">
                <div class="social-icon">
                <svg
                class="twitter"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 48 48"
                width="30px"
                height="30px">
                    <path
                    d="M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"></path></svg>
            </div>
            </a>
            </div>
            <div class="icon-box">
                <a href="https://github.com/Fermazate" target="_blank" class="social-link">
                <div class="social-icon">
                <svg
                class="github"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 30 30"
                width="30px"
                height="30px"
                >
                <path
                    d="M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"
                ></path>
                </svg>
                </div>
                </a>
            </div>
            <div class="icon-box">
                <a href="https://www.linkedin.com/in/brandon-mazate-mazariegos-a47893213/" target="_blank" class="social-link">
            <div class="social-icon">
                <svg
                class="w-6 h-6 text-gray-800 dark:text-white linkedin"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                widht="30px"
                height="30px"
                >
                <path
                    fill-rule="evenodd"
                    d="M12.5 8.8v1.7a3.7 3.7 0 0 1 3.3-1.7c3.5 0 4.2 2.2 4.2 5v5.7h-3.2v-5c0-1.3-.2-2.8-2.1-2.8-1.9 0-2.2 1.3-2.2 2.6v5.2H9.3V8.8h3.2ZM7.2 6.1a1.6 1.6 0 0 1-2 1.6 1.6 1.6 0 0 1-1-2.2A1.6 1.6 0 0 1 6.6 5c.3.3.5.7.5 1.1Z"
                    clip-rule="evenodd"
                />
                <path d="M7.2 8.8H4v10.7h3.2V8.8Z" />
                </svg>
            </div>
        </a>
            </div>
        </div>
        </ul>
    </div>
    </div>
    </nav>
    <nav class="navbar flex">
        <i class="bx bx-menu" id="sidebar-open"></i>
    </nav>
    <!--web content-->
    <div id="customAlert" class="custom-alert"></div>
    <div id="shade" class="not-blurred"></div>
    <main>
        <div id="container">
        <h1 class="project-title">Ten Year CHD Risk Calculator</h1>
        <hr>
        <div id="top-line">
            <span><a href="https://github.com/Fermazate/Heart-Disease-Prediction" class="bx bxl-github gitlink"> GitHub Repository</a></span>
            <div id="tags"><ul>
            <li>Python</li>
            <li>Machine learning</li>
            <li>Stats/Biostats</li>
            <li>Scikit-learn</li>
            <li>EDA</li></ul>
        </div>
            <span><a href="#" class="bx bx-caret-left-circle tagslink" onclick="showTagsLink()"></a></span>
        </div>
        <hr>
        <div id="portada"><img src="../img/test.webp" alt="Portada de proyecto" class="portada"></div>
        <div id="project-description" class="panel">
            <p>Coronary Heart Disease (CHD) remains one of the leading causes of mortality worldwide, posing significant health and economic burdens. 
                Early prediction and preventive strategies are crucial in mitigating risks and enhancing patient outcomes.
                Implementing an accurate CHD risk prediction tool empowers healthcare providers and individuals with actionable insights, 
                fostering preventive care measures and reducing the incidence of heart-related morbidity and mortality.
                Traditional CHD risk calculators, while useful, often adopt a one-size-fits-all approach, overlooking the nuanced interplay of various risk factors. 
                Advances in data science present an opportunity to refine these predictions, tailoring risk assessments to individual health profiles.
            </p>
            <p> <b>Objective</b>: Develop a sophisticated Ten Year CHD Risk Calculator that leverages machine learning algorithms to accurately predict an individual's risk of developing CHD based on a comprehensive set of health factors, 
                comparing various algorithms to identify the one that offers the best performance.</p>
            <p>The project adopts a comparative analysis framework, 
                evaluating several machine learning models to identify the most accurate predictor of ten-year CHD risk.
                Utilizing the Framingham Heart Study dataset, the project examines a rich array of health variables, including age, cholesterol levels, blood pressure, diabetes status, and smoking habits, among others. 
                This dataset is instrumental due to its extensive follow-up period and detailed health assessments.
                Key challenges include handling missing data, 
                balancing the dataset to account for uneven distribution of CHD cases, and ensuring the model's 
                interpretability to healthcare professionals.
            </p>
            <p><b>STEPS:</b></p>
            <p>1. Data preprocessing: Cleaning and preparing the Framingham dataset for analysis.<br><br>
                2. Feature selection: Identifying the most predictive variables for CHD risk.<br><br>
                3. Model training and evaluation: Training various algorithms (e.g., logistic regression, random forests, SVM) and evaluating their performance through metrics such as accuracy, precision, recall, and AUC-ROC curves.<br><br>
                4. Model optimization: Fine-tuning the best-performing model to enhance its predictive accuracy.<br><br>
            </p>
            <p>Let's get deep into it. Remember you can find jupyter notebooks and archives in my GitHub!</p>
        </div>
        <div id="aplication" class="panel">
            <h2>About the dataset.</h2>
            <h3 class="subt">Exploratory Data Analysis</h3>
            <p class="nt">
                The dataset is publically available on the Kaggle website with the description: "The "Framingham" heart disease dataset includes over 4,240 records, 
                16 columns and 15 attributes. The goal of the dataset is to predict whether the patient has 10-year risk of future (CHD) coronary heart disease"
            </p>
            <p class="nt">This dataset has several null values so the first step was to visualize the proportion of null values</p>
            <p class="it">Null values of Framingham Dataset</p>
            <div class="graph unique"><img class="graph" src="../img/null-values.png" alt="Null values of Framingham Dataset"></div>
            <p class="fi">Null values volume of Framingham Dataset per variable. x-axis = dataset variables, y-axis = values</p>
            <p class="nt">For simplicity, it was decided to drop the entries with null values from variables that exhibited 5% or fewer null values.
                In the case of "glucose" variable, KNN imputation was chosen due to the larger volume of data; discarding them would not have been prudent
            </p>
            <p class="nt">As can be seen in the following graph, the distribution of the variables does not show significant changes after data cleaning and imputation. Additionally, it is observed that the continuous variables exhibit irregular and skewed distributions.</p>
            <p class="it">Variable's distribution before and after being cleaned of null values</p>
            <div class="unique"><img class="graph" src="../img/variables-distribution.png" alt="Variable's distribution of Framingham dataset before and after being cleaned"></div>
            <p class="fi">Blue= before cleaning, Red=After cleaning.</p>
            <p class="nt">Outliers were observed in several variables. In health sciences, there are situations where confining to a range is more beneficial, especially in the daily practice of healthcare professionals. Therefore, winsorization was employed to replace outliers with the extremes of the defined ranges at the 5th and 95th percentiles.</p>
            <p class="nt">Let's analyse the variables, beginning with the target variable</p>
            <p class="it">Distribution of target variable</p>
            <div class="unique"><img src="../img/target-variable-distribution.png" alt="Distribution of TenYearCHD variable after cleaning the data in the Framingham dataset" class="graph"></div>
            <p class="fi">0 = Ausence of the event. 1 = Presence of the event</p>
            <p class="nt">The target variable is evidently skewed, a common occurrence when studying diseases. In a future step, we will use SMOTE analysis to address this issue.</p>
            <p class="nt">The following graph illustrates the correlation between the variables.</p>
            <p class="it">Correlation between variables</p>
            <p class="unique"><img src="../img/features_correlations.png" alt="Features correlations in the Framingham dataset" class="graph"></p>
            <p class="fi">Blue = negative correlation. Red = positive correlation</p>
            <p class="nt">From the heatmap analysis, several insightful observations can be made regarding the correlations among variables in the dataset:</p>
            <p class="nt pl">1. <b>Gender and Smoking Habits:</b> There is a slight correlation between being male and currently being a smoker, as well as with the number of cigarettes smoked per day. This suggests a gender-specific pattern in smoking habits within the dataset.</p>
            <p class="nt pl">2. <b>Age and Smoking:</b> Age shows an inverse correlation with being a smoker, indicating that older individuals in the dataset are less likely to smoke. This raises an interesting point for further investigation, particularly whether older individuals are less likely to be women, given the observed correlation patterns.</p>
            <p class="nt pl">3. <b>Age and CHD Risk Factors:</b> Age is correlated with several variables that are known in medicine to be risk factors for Coronary Heart Disease (CHD), including the TenYearCHD outcome itself. This highlights the importance of age as a predictor in CHD risk models.</p>
            <p class="nt pl">4. <b>Education and Other Variables:</b> Education shows very little correlation with other features. It appears that older individuals in the dataset have lower education levels, reflecting a characteristic of the population from which the data was sourced.</p>
            <p class="nt pl">5. <b>Smoking Variables:</b> The variables representing current smoker status and the number of cigarettes smoked per day (CigsPerDay) are highly correlated. Given that CigsPerDay being greater than zero inherently indicates a current smoker, it could be argued that the Current Smoker variable might be redundant for the prediction model, as CigsPerDay offers a more granular insight into smoking habits and its potential impact on TenYearCHD risk.</p>
            <p class="nt pl">6. <b>Hypertension and Blood Pressure:</b> Prevalent hypertension shows a significant correlation with both diastolic and systolic blood pressure, which in turn are closely correlated with each other. This underscores the interrelated nature of these cardiovascular risk factors.</p>
            <p class="nt pl">7. <b>Glucose and Diabetes:</b> A slight correlation between glucose levels and diabetes suggests that individuals with diabetes in the dataset might be under medical treatment, leading to controlled glucose levels. This assumption points towards the managed state of diabetes in the study population, potentially affecting their CHD risk profile.</p>
            <p class="nt">These observations provide a foundational understanding of the relationships between various health factors and their collective impact on CHD risk.</p>
            <p class="nt">A noteworthy observation is that coronary heart disease (CHD) is directly related to age, and when comparing men and women, it is evident that the peak incidence of CHD occurs at an older age in men than in women.</p>
            <p class="it">Comparison of age of CHD onset between male and females</p>
            <div class="double"><img src="../img/violin-agextenyearchd.png" alt="" class="graph"><img src="../img/violin-agexgenderxtenyearchd.png" alt="" class="graph"></div>
            <p class="fi">First graphic. Comparison of patients' age with (1) or without(0) CHD in Ten Years. Second graphic: comparison of incidence and age between women and men</p>
            <h2>Feature engineering</h2>
            <p class="nt">Systolic and diastolic blood pressures are highly correlated. This is explained by their physiological connection, and in fact, there is a quantitative measurement that represents both readings: the mean arterial pressure.</p>
            <p class="nt">Considering this correlation and the fact that in our data the distributions of both variables were identical, it was decided to use this calculation to simplify the features with which future machine learning models would be trained. This approach aims to streamline the input variables, potentially enhancing model performance by focusing on a single, comprehensive measure of blood pressure rather than two highly correlated but separate measurements.</p>
            <div class="unique"><p class="formula">MAP = DP +1/3(SP-DP)</p></div>
            <p class="nt">Handling imbalanced data is a critical step in preparing a dataset for machine learning models, especially in fields like healthcare, where the outcome variable can be heavily skewed towards one class.</p>
            <p class="nt">In this case, the decision was made to perform oversampling on the minority class using the Synthetic Minority Over-sampling Technique (SMOTE). This method synthetically generates new instances of the minority class by interpolating between existing instances. SMOTE helps to balance the dataset by increasing the size of the minority class, thus providing a more balanced distribution of classes for training machine learning models. This approach is particularly useful in preventing model bias toward the majority class and improving the performance of the model on the minority class, which is crucial for applications like disease prediction where the minority class (e.g., patients with a disease) is of significant interest.</p>
            <p class="nt">To compare their results, various machine learning algorithms were tested. The algorithms used included Gradient Boosting Classifier, Random Forest Classifier, Logistic Regression, Support Vector Machine (SVM) Classifier, and K-Nearest Neighbors (KNN). This diverse set of algorithms was chosen to cover a broad spectrum of machine learning approaches, from ensemble methods like Gradient Boosting and Random Forest, which build models on top of multiple weak learners to improve prediction accuracy, to simpler, more interpretable models like Logistic Regression, which is often used as a baseline for binary classification tasks.</p>
            <div class="multiplesix">
                <div class="cell">
                    <p class="it">Gradient Boosting Classifier</p>
                    <img src="../img/GBC-performance.jpg" alt="" class="graph">
                </div>
                <div class="cell">
                    <p class="it">Random Forest Classifier</p>
                    <img src="../img/RFC-performance.jpg" alt="" class="graph">
                </div>
                <div class="cell">
                    <p class="it">Logistic Regression</p>
                    <img src="../img/LR-performance.jpg" alt="" class="graph">
                </div>
                <div class="cell">
                    <p class="it">Support Vector Machine Classifier</p>
                    <img src="../img/SVM-performance.png" alt="" class="graph">
                </div>
                <div class="cell">
                    <p class="it">K K-Nearest Neighbors</p>
                    <img src="../img/KNN-performance.png" alt="" class="graph">
                </div>
            </div>
            <p class="nt">In this project, the Support Vector Machine (SVM) classifier emerged as the best option, followed by Logistic Regression. This preference is attributed to achieving a higher recall. Despite a lower precision, recall is critically important in healthcare settings because the cost of failing to diagnose a sick patient (a false negative) is often considered more severe than mistakenly identifying a healthy patient as at risk (a false positive). However, precision cannot be overlooked, as low precision leads to unnecessary expenses for additional studies and treatments.</p>
            <p class="nt">The prioritization of recall over precision in healthcare contexts reflects the emphasis on patient safety and the principle of "do no harm." Early detection of conditions, even at the expense of additional follow-up tests for some false positives, is generally preferred to missing a diagnosis that could lead to more serious health consequences.</p>
            <h2>Conclusion</h2>
            <p class="nt">In this project, through the application of various machine learning algorithms to predict the Ten Year Risk of Coronary Heart Disease (CHD), the Support Vector Machine (SVM) classifier was identified as the most suitable model, closely followed by Logistic Regression. The selection criteria were primarily based on the models' ability to achieve high recall rates, a critical factor in healthcare applications where the early and accurate identification of disease risk can significantly impact patient outcomes. Despite SVM's lower precision, which could potentially lead to higher follow-up costs due to false positives, its superior recall rate is deemed more valuable because it minimizes the risk of overlooking patients who might be at risk of CHD.</p>
            <h2>Use cases</h2>
            <p class="nt">1. Clinical Decision Support: The models developed in this project can be integrated into clinical decision support systems to assist healthcare providers in identifying patients at high risk of CHD. By leveraging patient data, these tools can offer personalized risk assessments, enabling earlier interventions and tailored treatment plans.</p>
            <p class="nt">2. Public Health Screening Programs: Public health initiatives can utilize the predictive model to screen populations for CHD risk, particularly focusing on high-risk groups. This can facilitate targeted health education, lifestyle interventions, and monitoring strategies to prevent the onset of CHD.</p>
            <p class="nt">3. Personal Health Applications: The algorithm can be adapted for use in personal health apps, allowing individuals to assess their risk of CHD based on their health data. This can empower people to take proactive steps towards managing their health, such as improving diet, increasing physical activity, and seeking medical advice when necessary.</p>
            <p class="nt">4. Insurance Risk Assessment: Insurance companies can use the model to better understand the CHD risk profile of their clientele, aiding in the development of tailored insurance products and pricing strategies that reflect individual risk levels.</p>
            <p class="nt">5. Research and Development: In the pharmaceutical and healthcare technology sectors, the insights gained from this project can inform the development of new treatments and interventions for CHD. By identifying key risk factors and their impact on CHD risk, researchers can focus their efforts on areas with the highest potential for improving patient outcomes.</p>
        </div>
        </div>
    </main>
    </div>
    <!--scripts-->
    <script src async defer></script>
    <script
        type="module"
        src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script
        nomodule
        src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src=../javascript/utils.js></script>
    <script src=../javascript/sidebar.js></script>    
    </body>
</html>
